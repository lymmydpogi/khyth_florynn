<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log in! - Campana Designs</title>
    
{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('style/css/DASHBOARD/login.css') }}">
{% endblock %}


{% block body %}
<div class="login-body">
    <div class="login-logo">
        <img src="{{ asset('images/avatars/cd_logo.png') }}" alt="Campana Designs Logo" class="logo-img">
    </div>

    <div class="login-form">
        <h1>Please sign in</h1>
        <p>Welcome! Enter your credentials to continue</p>

        <form method="post" action="{{ path('app_login_index') }}">
            <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

            <div class="form-group">
                <label for="username">Email</label>
                <input type="email" id="username" name="_username" class="form-control" required autofocus value="{{ last_username }}">
            </div>

            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" id="password" name="_password" class="form-control" required>
            </div>

            <div class="checkbox-group">
                <input type="checkbox" id="remember_me" name="_remember_me">
                <label for="remember_me">Remember me</label>
            </div>

            <button type="submit" class="btn-primary">Sign in</button>
        </form>

        <div class="create-account">
            <p>
                Don't have an account? <a href="{{ path('app_register') }}">Create one</a>
            </p>
        </div>
    </div>
</div>


<!-- SweetAlert Triggers -->
<script>
    {% if error %}
        Swal.fire({
            icon: "error",
            title: "Login Failed",
            text: "{{ error.messageKey|trans(error.messageData, 'security') }}",
            confirmButtonText: "OK",
            allowOutsideClick: false
        });
    {% endif %}

    {% if app.request.get('access_denied') %}
        Swal.fire({
            icon: 'error',
            title: 'Access Denied',
            text: 'You are not allowed to access this page.',
            confirmButtonText: 'OK',
            allowOutsideClick: false
        });
    {% endif %}
</script>
{% endblock %}


</body>
</html>
